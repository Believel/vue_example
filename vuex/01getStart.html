<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
</head>
<body>
  <div id="app">
      <counter></counter>
  </div>
  <script src="../js/vue.js"></script>
  <script src="../js/vuex.js"></script>
  <script>
  // 每一个vuex应用的核心就是store(仓库)。
  // vuex和单纯的全局对象有以下两点不同：
  // 1.vuex的状态存储是响应的。当Vue组件从store中读取状态的时候，若store中的状态发生变化，那么相应的组件也会相应的得到高效更新。
  // 2.你不能直接改变store中的状态。改变store中的状态的唯一途径就是显式地提交mutations。这样使得我们可以方便的跟踪每一个状态的变化，从而让我们能够实现一些工具帮助我们更好地了解我们的应用。
   const store = new Vuex.Store({
      state: {
        count: 0
      },
      mutations: {
        increment (state){
          state.count++
        }
      }
   })
   // 现在可以通过store.state来获取状态对象，以及通过store.commit方法触发状态变更：
   store.commit('increment');
   console.log(store.state.count);//1
   // 在vue组件中 获得vuex状态
   // 创建一个Counter组件
   const Counter = {
      template: '<div>{{count}}</div>',
      computed: {
        count(){
          return store.state.count;
        }
      }
   };
   // Vue.component('counter',Counter);

      var vm = new Vue({
          el : '#app',
          data : {

          },
          store,
          components: {Counter},
          template: ` 
            <div class="app">
             <counter></counter>
            </div>
          `
          
      })
  </script>
</body>
</html>
